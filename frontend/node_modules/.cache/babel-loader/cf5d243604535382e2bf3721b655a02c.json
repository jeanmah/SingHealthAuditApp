{"ast":null,"code":"var _jsxFileName = \"/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/pages/TenantHome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext } from \"react\";\nimport TenantHomeCards from \"../components/TenantHomeCards\";\nimport Navbar from \"../Navbar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { Context } from \"../Context\";\nimport Loading from \"./Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TenantHome() {\n  _s();\n\n  const {\n    getTenantAudits,\n    auditsState,\n    setAuditsState,\n    getReport\n  } = useContext(Context);\n  useEffect(() => {\n    // getUserInfo(tenantId)\n    //   .then((response) => {\n    //     console.log(response);\n    //     setTenantState(response.data);\n    //   })\n    //   .catch(() => {\n    //     console.log(\"Failed to retrieve tenant info\");\n    //   });\n    async function getResponse() {\n      try {\n        const reportIdArray = await getTenantAudits(tenantId).then(response => {\n          return [...response.data.CLOSED.past_audits, response.data.LATEST.toString()];\n        });\n        console.log(reportIdArray); //initialize array to store all objects of report info\n\n        let reportInfoArray = [];\n\n        for (let i = 0; i < reportIdArray.length; i++) {\n          let reportInfo = await getReport(reportIdArray[i]).then(response => {\n            return response.data;\n          });\n          reportInfoArray.push(reportInfo);\n        }\n\n        console.log(reportInfoArray);\n\n        if (reportInfoArray.length === reportIdArray.length) {\n          setTenantAudits(reportInfoArray);\n        } //set state of audits to be an array of report info objects\n        // setAuditsState(reportInfoArray);\n\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    getResponse();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"This is tenant homepage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TenantHome, \"uc1NEyykVPOLaLO1/a6kTM1xx5s=\");\n\n_c = TenantHome;\nexport default TenantHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"TenantHome\");","map":{"version":3,"sources":["/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/pages/TenantHome.js"],"names":["React","useEffect","useContext","TenantHomeCards","Navbar","CssBaseline","Context","Loading","TenantHome","getTenantAudits","auditsState","setAuditsState","getReport","getResponse","reportIdArray","tenantId","then","response","data","CLOSED","past_audits","LATEST","toString","console","log","reportInfoArray","i","length","reportInfo","push","setTenantAudits","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,SAASC,UAAT,GAAsB;AAAA;;AACpB,QAAM;AACJC,IAAAA,eADI;AAEJC,IAAAA,WAFI;AAGJC,IAAAA,cAHI;AAIJC,IAAAA;AAJI,MAKFV,UAAU,CAACI,OAAD,CALd;AAOAL,EAAAA,SAAS,CAAC,MAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBAAeY,WAAf,GAA6B;AAC3B,UAAI;AACF,cAAMC,aAAa,GAAG,MAAML,eAAe,CAACM,QAAD,CAAf,CAA0BC,IAA1B,CACzBC,QAAD,IAAc;AACZ,iBAAO,CACL,GAAGA,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqBC,WADnB,EAELH,QAAQ,CAACC,IAAT,CAAcG,MAAd,CAAqBC,QAArB,EAFK,CAAP;AAID,SANyB,CAA5B;AAQAC,QAAAA,OAAO,CAACC,GAAR,CAAYV,aAAZ,EATE,CAUF;;AACA,YAAIW,eAAe,GAAG,EAAtB;;AAEA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,aAAa,CAACa,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,cAAIE,UAAU,GAAG,MAAMhB,SAAS,CAACE,aAAa,CAACY,CAAD,CAAd,CAAT,CAA4BV,IAA5B,CACpBC,QAAD,IAAc;AACZ,mBAAOA,QAAQ,CAACC,IAAhB;AACD,WAHoB,CAAvB;AAKAO,UAAAA,eAAe,CAACI,IAAhB,CAAqBD,UAArB;AACD;;AACDL,QAAAA,OAAO,CAACC,GAAR,CAAYC,eAAZ;;AACA,YAAIA,eAAe,CAACE,MAAhB,KAA2Bb,aAAa,CAACa,MAA7C,EAAqD;AACnDG,UAAAA,eAAe,CAACL,eAAD,CAAf;AACD,SAxBC,CA0BF;AACA;;AACD,OA5BD,CA4BE,OAAOM,GAAP,EAAY;AACZR,QAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD;AACF;;AACDlB,IAAAA,WAAW;AACZ,GA5CQ,EA4CN,EA5CM,CAAT;AA6CA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;GA3DQL,U;;KAAAA,U;AA6DT,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport TenantHomeCards from \"../components/TenantHomeCards\";\nimport Navbar from \"../Navbar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { Context } from \"../Context\";\nimport Loading from \"./Loading\";\n\nfunction TenantHome() {\n  const {\n    getTenantAudits,\n    auditsState,\n    setAuditsState,\n    getReport,\n  } = useContext(Context);\n\n  useEffect(() => {\n    // getUserInfo(tenantId)\n    //   .then((response) => {\n    //     console.log(response);\n    //     setTenantState(response.data);\n    //   })\n    //   .catch(() => {\n    //     console.log(\"Failed to retrieve tenant info\");\n    //   });\n\n    async function getResponse() {\n      try {\n        const reportIdArray = await getTenantAudits(tenantId).then(\n          (response) => {\n            return [\n              ...response.data.CLOSED.past_audits,\n              response.data.LATEST.toString(),\n            ];\n          }\n        );\n        console.log(reportIdArray);\n        //initialize array to store all objects of report info\n        let reportInfoArray = [];\n\n        for (let i = 0; i < reportIdArray.length; i++) {\n          let reportInfo = await getReport(reportIdArray[i]).then(\n            (response) => {\n              return response.data;\n            }\n          );\n          reportInfoArray.push(reportInfo);\n        }\n        console.log(reportInfoArray);\n        if (reportInfoArray.length === reportIdArray.length) {\n          setTenantAudits(reportInfoArray);\n        }\n\n        //set state of audits to be an array of report info objects\n        // setAuditsState(reportInfoArray);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    getResponse();\n  }, []);\n  return (\n    <main>\n      <Navbar />\n      <div>This is tenant homepage</div>\n    </main>\n  );\n}\n\nexport default TenantHome;\n"]},"metadata":{},"sourceType":"module"}