{"ast":null,"code":"var _jsxFileName = \"/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/pages/Institution.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { tenants, institutions } from \"../data\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { FaAngleRight } from \"react-icons/fa\";\nimport Navbar from \"../Navbar\";\nimport { Context } from \"../Context\";\nimport Loading from \"./Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Institution = /*#__PURE__*/React.memo(_c = _s(() => {\n  _s();\n\n  //obtain id which is indicated in the url\n  const {\n    institutionName\n  } = useParams();\n  const {\n    getInstitutionTenants\n  } = useContext(Context);\n  const [institutionState, setInstitutionState] = useState();\n  useEffect(() => {\n    getInstitutionTenants(institutionName).then(response => {\n      //update state of institution tenants\n      setInstitutionState(response.data);\n      console.log(response.data);\n    }).catch(() => {\n      console.log(\"Failed to get tenants in the institution\");\n    });\n  }, [institutionState]); // array of one object which is the selected institution\n\n  const selectedInstitution = institutions.filter(institution => {\n    const {\n      name\n    } = institution;\n    return institutionName === name;\n  }); //filter the tenants based on the selected institution\n  // const selectedTenants = tenants.filter((tenant) => {\n  //   const { institution } = tenant;\n  //   return institutionName === institution;\n  // });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: institutionState ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), selectedInstitution.map((institution, index) => {\n        const {\n          id,\n          name,\n          imageUrl\n        } = institution;\n        return /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"institution-header\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageUrl,\n            className: \"institution-logo\",\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this)\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this);\n      }), institutionState.map((tenant, index) => {\n        const {\n          store_name,\n          acc_id\n        } = tenant;\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/tenant/${acc_id}`,\n            children: /*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"institution-tenant-resolved\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: store_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"institution-tenantbtn\",\n                children: /*#__PURE__*/_jsxDEV(FaAngleRight, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this)\n          }, acc_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this)\n        }, void 0, false);\n      }), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}, \"VFpaZ2X30gzz11bZ/AVVLUK0vzQ=\", false, function () {\n  return [useParams];\n}));\n_c2 = Institution;\nexport default Institution;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Institution$React.memo\");\n$RefreshReg$(_c2, \"Institution\");","map":{"version":3,"sources":["/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/pages/Institution.js"],"names":["React","useContext","useEffect","useState","tenants","institutions","Link","useParams","FaAngleRight","Navbar","Context","Loading","Institution","memo","institutionName","getInstitutionTenants","institutionState","setInstitutionState","then","response","data","console","log","catch","selectedInstitution","filter","institution","name","map","index","id","imageUrl","tenant","store_name","acc_id"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { tenants, institutions } from \"../data\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { FaAngleRight } from \"react-icons/fa\";\nimport Navbar from \"../Navbar\";\nimport { Context } from \"../Context\";\nimport Loading from \"./Loading\";\n\nconst Institution = React.memo(() => {\n  //obtain id which is indicated in the url\n  const { institutionName } = useParams();\n  const { getInstitutionTenants } = useContext(Context);\n  const [institutionState, setInstitutionState] = useState();\n\n  useEffect(() => {\n    getInstitutionTenants(institutionName)\n      .then((response) => {\n        //update state of institution tenants\n        setInstitutionState(response.data);\n        console.log(response.data);\n      })\n      .catch(() => {\n        console.log(\"Failed to get tenants in the institution\");\n      });\n  }, [institutionState]);\n\n  // array of one object which is the selected institution\n  const selectedInstitution = institutions.filter((institution) => {\n    const { name } = institution;\n    return institutionName === name;\n  });\n  //filter the tenants based on the selected institution\n  // const selectedTenants = tenants.filter((tenant) => {\n  //   const { institution } = tenant;\n  //   return institutionName === institution;\n  // });\n\n  return (\n    <div>\n      {institutionState ? (\n        <div>\n          <Navbar />\n          {selectedInstitution.map((institution, index) => {\n            const { id, name, imageUrl } = institution;\n            return (\n              <section key={id} className=\"institution-header\">\n                <img\n                  src={imageUrl}\n                  className=\"institution-logo\"\n                  alt=\"logo\"\n                ></img>\n              </section>\n            );\n          })}\n          {institutionState.map((tenant, index) => {\n            const { store_name, acc_id } = tenant;\n            return (\n              <>\n                <Link key={acc_id} to={`/tenant/${acc_id}`}>\n                  <section className=\"institution-tenant-resolved\">\n                    <div>{store_name}</div>\n                    <div className=\"institution-tenantbtn\">\n                      <FaAngleRight />\n                    </div>\n                  </section>\n                </Link>\n              </>\n            );\n          })}{\" \"}\n        </div>\n      ) : (\n        <Loading />\n      )}\n    </div>\n  );\n});\n\nexport default Institution;\n"]},"metadata":{},"sourceType":"module"}