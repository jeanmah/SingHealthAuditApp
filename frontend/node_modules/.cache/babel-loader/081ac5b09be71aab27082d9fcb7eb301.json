{"ast":null,"code":"var _jsxFileName = \"/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/components/TenantReportCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Context } from \"../Context\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { Typography } from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  commentBox: {\n    maxWidth: 800,\n    width: \"100%\",\n    padding: theme.spacing(0, 0, 2, 2)\n  },\n  comment: {\n    width: \"100%\"\n  },\n  dropdownMain: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  dropdownContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: theme.spacing(0, 0, 0, 2)\n  },\n  textInfo: {\n    padding: theme.spacing(2, 0, 2, 0),\n    color: \"#F15A22\"\n  },\n  topText: {\n    color: \"#F15A22\"\n  },\n  textTenant: {\n    padding: theme.spacing(1, 0, 2, 2),\n    fontWeight: \"medium\"\n  },\n  tenantInstructions: {\n    display: \"flex\",\n    padding: theme.spacing(2, 0, 2, 2)\n  },\n  tenantResponse: {\n    display: \"flex\",\n    width: \"100%\"\n  },\n  avatar: {},\n  button: {\n    width: \"50%\",\n    color: \"#F15A22\",\n    fontWeight: \"medium\",\n    backgroundColor: theme.palette.background.default\n  },\n  buttonContainer: {\n    padding: theme.spacing(4, 0, 4, 0),\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  input: {\n    display: \"none\"\n  },\n  camera: {\n    display: \"flex\",\n    flexDirection: \"column\" //   alignItems: \"center\",\n\n  },\n  uploadText: {\n    padding: theme.spacing(0, 1, 0, 2)\n  }\n}));\n\nfunction TenantReportCard({\n  remarks,\n  entry_id,\n  requirement,\n  timeframe,\n  report_id\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [comment, setComment] = useState(\"\"); //selected file state\n  // const [selectedFile, setSelectedFile] = useState();\n\n  const [base64, setBase64] = useState();\n  const [testState, setTestState] = useState(\"hi\"); //state to check if file is selected\n  // const [isFilePicked, setIsFilePicked] = useState(false);\n\n  const {\n    fbReportState,\n    setFbReportState,\n    getReportEntry,\n    submitReportUpdate\n  } = useContext(Context); //function to update comment state\n\n  const handleComment = e => {\n    setComment(e.target.value); // console.log(comment);\n  }; // handle input file change\n\n\n  const handleChange = event => {\n    // console.log(selectedFile);\n    // console.log(event.target.files[0]);\n    // if (event.target.files[0] !== null) {\n    //   setSelectedFile(event.target.files[0]);\n    // }\n    const getBase64 = file => {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        if (file) {\n          reader.readAsDataURL(file);\n        }\n\n        reader.onload = () => resolve(reader.result);\n\n        reader.onerror = error => reject(error);\n      });\n    };\n\n    getBase64(event.target.files[0]).then(image => {\n      console.log(\"im here at the base64 method\");\n      setBase64(image);\n      console.log(image);\n    });\n    setTestState(\"hello\"); // setIsFilePicked(true);\n  }; // let input = document.getElementsByTagName(\"input\")[0];\n  // input.onclick = function () {\n  //   this.value = null;\n  // };\n  // input.onchange = (event) => {\n  //   setSelectedFile(event.target.files[0]);\n  //   console.log(event.target.files[0]);\n  //   setIsFilePicked(true);\n  // };\n  //handle submit\n\n\n  const handleSubmit = () => {\n    async function getEntry() {\n      const entry = await getReportEntry(report_id, entry_id).then(response => {\n        console.log(entry_id);\n        console.log(response);\n        return response.data;\n      });\n      console.log(testState); // if (base64) {\n      //   console.log(base64);\n      //   submitReportUpdate(report_id, false, \"\", {\n      //     ...entry,\n      //     images: [base64],\n      //     remarks: comment,\n      //   });\n      // }\n      // console.log(selectedFile);\n      // getBase64().then((image) => {\n      //   console.log(image);\n      // });\n      // getBase64().then((image) => {\n      //   console.log(image);\n      //   console.log(comment);\n      //   submitReportUpdate(report_id, false, \"\", {\n      //     ...entry,\n      //     images: [image],\n      //     remarks: comment,\n      //   });\n      // });\n\n      alert(\"Rectification submitted. Pending Approval\");\n    }\n\n    getEntry();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Accordion, {\n    children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n      expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }, this),\n      \"aria-label\": \"Expand\",\n      \"aria-controls\": \"additional-actions1-content\",\n      id: \"additional-actions1-header\",\n      children: /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          id: entry_id,\n          primary: requirement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n      className: classes.dropdownMain,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.dropdownContainer,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          color: \"textSecondary\",\n          variant: \"button\",\n          className: classes.topText,\n          children: [\"REMARKS: \", remarks]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"textSecondary\",\n          variant: \"button\",\n          className: classes.textInfo,\n          children: [\"RECTIFICATION PERIOD: \", timeframe]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.tenantInstructions,\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          src: \"/broken-image.jpg\",\n          className: classes.avatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"textPrimary\",\n          className: classes.textTenant,\n          children: \"Please respond to non-compliance below:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.tenantResponse,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"standard-multiline-static\",\n          label: \"Comment on rectification to non-compliance\",\n          multiline: true,\n          value: comment,\n          className: classes.comment,\n          onChange: e => {\n            handleComment(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          // accept=\"image/*\"\n          className: classes.input // id={`icon-button-file${entry_id}`}\n          ,\n          id: \"icon-button-file\",\n          name: \"file\",\n          type: \"file\" // value={null}\n          // name=\"picture\"\n          ,\n          onClick: e => {\n            e.target.value = \"\";\n          },\n          onChange: e => {\n            handleChange(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          // htmlFor={`icon-button-file${entry_id}`}\n          htmlFor: \"icon-button-file\",\n          className: classes.camera,\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"primary\",\n            \"aria-label\": \"upload picture\",\n            component: \"span\",\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"button\",\n              className: classes.uploadText,\n              children: \"Upload photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.buttonContainer,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: classes.button,\n          size: \"large\",\n          onClick: handleSubmit // color=\"secondary\"\n          ,\n          children: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TenantReportCard, \"Zyle4PnrcWQbn2iOJtgKc00vz38=\", false, function () {\n  return [useStyles];\n});\n\n_c = TenantReportCard;\nexport default TenantReportCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"TenantReportCard\");","map":{"version":3,"sources":["/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/components/TenantReportCard.js"],"names":["React","useState","useContext","TextField","makeStyles","Context","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","ListItem","ListItemText","Avatar","Button","IconButton","PhotoCamera","Typography","useForm","useStyles","theme","commentBox","maxWidth","width","padding","spacing","comment","dropdownMain","display","flexDirection","dropdownContainer","margin","textInfo","color","topText","textTenant","fontWeight","tenantInstructions","tenantResponse","avatar","button","backgroundColor","palette","background","default","buttonContainer","justifyContent","input","camera","uploadText","TenantReportCard","remarks","entry_id","requirement","timeframe","report_id","classes","setComment","base64","setBase64","testState","setTestState","fbReportState","setFbReportState","getReportEntry","submitReportUpdate","handleComment","e","target","value","handleChange","event","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","files","then","image","console","log","handleSubmit","getEntry","entry","response","data","alert"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Context } from \"../Context\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\n\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { Typography } from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\n\nconst useStyles = makeStyles((theme) => ({\n  commentBox: {\n    maxWidth: 800,\n    width: \"100%\",\n    padding: theme.spacing(0, 0, 2, 2),\n  },\n  comment: {\n    width: \"100%\",\n  },\n  dropdownMain: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  dropdownContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: theme.spacing(0, 0, 0, 2),\n  },\n  textInfo: {\n    padding: theme.spacing(2, 0, 2, 0),\n    color: \"#F15A22\",\n  },\n  topText: {\n    color: \"#F15A22\",\n  },\n  textTenant: {\n    padding: theme.spacing(1, 0, 2, 2),\n    fontWeight: \"medium\",\n  },\n  tenantInstructions: {\n    display: \"flex\",\n    padding: theme.spacing(2, 0, 2, 2),\n  },\n  tenantResponse: {\n    display: \"flex\",\n    width: \"100%\",\n  },\n  avatar: {},\n  button: {\n    width: \"50%\",\n    color: \"#F15A22\",\n    fontWeight: \"medium\",\n    backgroundColor: theme.palette.background.default,\n  },\n  buttonContainer: {\n    padding: theme.spacing(4, 0, 4, 0),\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  input: {\n    display: \"none\",\n  },\n  camera: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    //   alignItems: \"center\",\n  },\n  uploadText: {\n    padding: theme.spacing(0, 1, 0, 2),\n  },\n}));\n\nfunction TenantReportCard({\n  remarks,\n  entry_id,\n  requirement,\n  timeframe,\n  report_id,\n}) {\n  const classes = useStyles();\n  const [comment, setComment] = useState(\"\");\n  //selected file state\n  // const [selectedFile, setSelectedFile] = useState();\n  const [base64, setBase64] = useState();\n  const [testState, setTestState] = useState(\"hi\");\n  //state to check if file is selected\n  // const [isFilePicked, setIsFilePicked] = useState(false);\n\n  const {\n    fbReportState,\n    setFbReportState,\n    getReportEntry,\n    submitReportUpdate,\n  } = useContext(Context);\n\n  //function to update comment state\n  const handleComment = (e) => {\n    setComment(e.target.value);\n    // console.log(comment);\n  };\n  // handle input file change\n  const handleChange = (event) => {\n    // console.log(selectedFile);\n    // console.log(event.target.files[0]);\n    // if (event.target.files[0] !== null) {\n    //   setSelectedFile(event.target.files[0]);\n    // }\n    const getBase64 = (file) => {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        if (file) {\n          reader.readAsDataURL(file);\n        }\n\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = (error) => reject(error);\n      });\n    };\n    getBase64(event.target.files[0]).then((image) => {\n      console.log(\"im here at the base64 method\");\n      setBase64(image);\n\n      console.log(image);\n    });\n    setTestState(\"hello\");\n    // setIsFilePicked(true);\n  };\n  // let input = document.getElementsByTagName(\"input\")[0];\n\n  // input.onclick = function () {\n  //   this.value = null;\n  // };\n\n  // input.onchange = (event) => {\n  //   setSelectedFile(event.target.files[0]);\n  //   console.log(event.target.files[0]);\n  //   setIsFilePicked(true);\n  // };\n\n  //handle submit\n  const handleSubmit = () => {\n    async function getEntry() {\n      const entry = await getReportEntry(report_id, entry_id).then(\n        (response) => {\n          console.log(entry_id);\n          console.log(response);\n          return response.data;\n        }\n      );\n      console.log(testState);\n\n      // if (base64) {\n      //   console.log(base64);\n      //   submitReportUpdate(report_id, false, \"\", {\n      //     ...entry,\n      //     images: [base64],\n      //     remarks: comment,\n      //   });\n      // }\n\n      // console.log(selectedFile);\n\n      // getBase64().then((image) => {\n      //   console.log(image);\n      // });\n\n      // getBase64().then((image) => {\n      //   console.log(image);\n      //   console.log(comment);\n      //   submitReportUpdate(report_id, false, \"\", {\n      //     ...entry,\n      //     images: [image],\n      //     remarks: comment,\n      //   });\n      // });\n\n      alert(\"Rectification submitted. Pending Approval\");\n    }\n    getEntry();\n  };\n\n  return (\n    <Accordion>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-label=\"Expand\"\n        aria-controls=\"additional-actions1-content\"\n        id=\"additional-actions1-header\"\n      >\n        <ListItem>\n          <ListItemText id={entry_id} primary={requirement} />\n        </ListItem>\n      </AccordionSummary>\n      <AccordionDetails className={classes.dropdownMain}>\n        <div className={classes.dropdownContainer}>\n          <Typography\n            color=\"textSecondary\"\n            variant=\"button\"\n            className={classes.topText}\n          >\n            REMARKS: {remarks}\n          </Typography>\n\n          <Typography\n            color=\"textSecondary\"\n            variant=\"button\"\n            className={classes.textInfo}\n          >\n            RECTIFICATION PERIOD: {timeframe}\n          </Typography>\n        </div>\n        <div className={classes.tenantInstructions}>\n          <Avatar src=\"/broken-image.jpg\" className={classes.avatar} />\n          <Typography color=\"textPrimary\" className={classes.textTenant}>\n            Please respond to non-compliance below:\n          </Typography>\n        </div>\n        <div className={classes.tenantResponse}>\n          <TextField\n            id=\"standard-multiline-static\"\n            label=\"Comment on rectification to non-compliance\"\n            multiline\n            value={comment}\n            className={classes.comment}\n            onChange={(e) => {\n              handleComment(e);\n            }}\n          />\n          <input\n            // accept=\"image/*\"\n            className={classes.input}\n            // id={`icon-button-file${entry_id}`}\n            id=\"icon-button-file\"\n            name=\"file\"\n            type=\"file\"\n            // value={null}\n            // name=\"picture\"\n            onClick={(e) => {\n              e.target.value = \"\";\n            }}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          />\n          <label\n            // htmlFor={`icon-button-file${entry_id}`}\n            htmlFor=\"icon-button-file\"\n            className={classes.camera}\n          >\n            <IconButton\n              color=\"primary\"\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <Typography variant=\"button\" className={classes.uploadText}>\n                Upload photo\n              </Typography>\n              <PhotoCamera />\n            </IconButton>\n          </label>\n        </div>\n        <div className={classes.buttonContainer}>\n          <Button\n            className={classes.button}\n            size=\"large\"\n            onClick={handleSubmit}\n            // color=\"secondary\"\n          >\n            submit\n          </Button>\n        </div>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n\nexport default TenantReportCard;\n"]},"metadata":{},"sourceType":"module"}