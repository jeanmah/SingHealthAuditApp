{"ast":null,"code":"var _jsxFileName = \"/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/components/TenantReportCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Context } from \"../Context\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { Typography } from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  commentBox: {\n    maxWidth: 800,\n    width: \"100%\",\n    padding: theme.spacing(0, 0, 2, 2)\n  },\n  comment: {\n    width: \"100%\"\n  },\n  dropdownMain: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  dropdownContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: theme.spacing(0, 0, 0, 2)\n  },\n  textInfo: {\n    padding: theme.spacing(2, 0, 2, 0),\n    color: \"#F15A22\"\n  },\n  topText: {\n    color: \"#F15A22\"\n  },\n  textTenant: {\n    padding: theme.spacing(1, 0, 2, 2),\n    fontWeight: \"medium\"\n  },\n  tenantInstructions: {\n    display: \"flex\",\n    padding: theme.spacing(2, 0, 2, 2)\n  },\n  tenantResponse: {\n    display: \"flex\",\n    width: \"100%\"\n  },\n  avatar: {},\n  button: {\n    width: \"50%\",\n    color: \"#F15A22\",\n    fontWeight: \"medium\",\n    backgroundColor: theme.palette.background.default\n  },\n  buttonContainer: {\n    padding: theme.spacing(4, 0, 4, 0),\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  input: {\n    display: \"none\"\n  },\n  camera: {\n    display: \"flex\",\n    flexDirection: \"column\" //   alignItems: \"center\",\n\n  },\n  uploadText: {\n    padding: theme.spacing(0, 1, 0, 2)\n  }\n}));\n\nfunction TenantReportCard({\n  remarks,\n  entry_id,\n  requirement,\n  timeframe\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [comment, setComment] = useState(\"\"); //selected file state\n\n  const [selectedFile, setSelectedFile] = useState(); //state to check if file is selected\n\n  const [isFilePicked, setIsFilePicked] = useState(false);\n  const {\n    fbReportState,\n    setFbReportState,\n    getReportEntry,\n    submitReportUpdate\n  } = useContext(Context); //function to update comment state\n\n  const handleComment = e => {\n    setComment(e.target.value);\n    console.log(comment);\n  }; // handle input file change\n\n\n  const handleChange = event => {\n    console.log(event.target.files[0]);\n    setSelectedFile(event.target.files[0]);\n    setIsFilePicked(true);\n  }; // let input = document.getElementsByTagName(\"input\")[0];\n  // input.onclick = function () {\n  //   this.value = null;\n  // };\n  // input.onchange = (event) => {\n  //   setSelectedFile(event.target.files[0]);\n  //   console.log(event.target.files[0]);\n  //   setIsFilePicked(true);\n  // };\n\n\n  const getBase64 = () => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(selectedFile);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n  }; //handle submit\n\n\n  const handleSubmit = () => {\n    async function getEntry() {\n      const entry = await getReportEntry(report_id, entry_id).then(response => {\n        return response.data;\n      });\n      getBase64().then(image => {\n        submitReportUpdate(report_id, false, \"\", { ...entry,\n          image: image,\n          remarks: comment\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(Accordion, {\n      children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n        expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 23\n        }, this),\n        \"aria-label\": \"Expand\",\n        \"aria-controls\": \"additional-actions1-content\",\n        id: \"additional-actions1-header\",\n        children: /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            id: entry_id,\n            primary: requirement\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n        className: classes.dropdownMain,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.dropdownContainer,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            color: \"textSecondary\",\n            variant: \"button\",\n            className: classes.topText,\n            children: [\"REMARKS: \", remarks]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"textSecondary\",\n            variant: \"button\",\n            className: classes.textInfo,\n            children: [\"RECTIFICATION PERIOD: \", timeframe]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.tenantInstructions,\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            src: \"/broken-image.jpg\",\n            className: classes.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"textPrimary\",\n            className: classes.textTenant,\n            children: \"Please respond to non-compliance below:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.tenantResponse,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"standard-multiline-static\",\n            label: \"Comment on rectification to non-compliance\",\n            multiline: true,\n            value: comment,\n            className: classes.comment,\n            onChange: e => {\n              handleComment(e);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            // accept=\"image/*\"\n            className: classes.input // id={`icon-button-file${entry_id}`}\n            ,\n            id: \"icon-button-file\",\n            name: \"file\",\n            type: \"file\" // value={null}\n            // name=\"picture\"\n            ,\n            onClick: e => {\n              e.target.value = \"\";\n            },\n            onChange: e => {\n              handleChange(e);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            // htmlFor={`icon-button-file${entry_id}`}\n            htmlFor: \"icon-button-file\",\n            className: classes.camera,\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              color: \"primary\",\n              \"aria-label\": \"upload picture\",\n              component: \"span\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"button\",\n                className: classes.uploadText,\n                children: \"Upload photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PhotoCamera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.buttonContainer,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: classes.button,\n            size: \"large\",\n            onClick: handleSubmit // color=\"secondary\"\n            ,\n            children: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TenantReportCard, \"OGfMt2BGZDRwo/s7NmOMfw57dNw=\", false, function () {\n  return [useStyles];\n});\n\n_c = TenantReportCard;\nexport default TenantReportCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"TenantReportCard\");","map":{"version":3,"sources":["/Users/marcushjw/mainsinghealth/SingHealthAuditApp/frontend/src/components/TenantReportCard.js"],"names":["React","useState","useContext","TextField","makeStyles","Context","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","ListItem","ListItemText","Avatar","Button","IconButton","PhotoCamera","Typography","useForm","useStyles","theme","commentBox","maxWidth","width","padding","spacing","comment","dropdownMain","display","flexDirection","dropdownContainer","margin","textInfo","color","topText","textTenant","fontWeight","tenantInstructions","tenantResponse","avatar","button","backgroundColor","palette","background","default","buttonContainer","justifyContent","input","camera","uploadText","TenantReportCard","remarks","entry_id","requirement","timeframe","classes","setComment","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","fbReportState","setFbReportState","getReportEntry","submitReportUpdate","handleComment","e","target","value","console","log","handleChange","event","files","getBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","handleSubmit","getEntry","entry","report_id","then","response","data","image"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Context } from \"../Context\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\n\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { Typography } from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\n\nconst useStyles = makeStyles((theme) => ({\n  commentBox: {\n    maxWidth: 800,\n    width: \"100%\",\n    padding: theme.spacing(0, 0, 2, 2),\n  },\n  comment: {\n    width: \"100%\",\n  },\n  dropdownMain: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  dropdownContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: theme.spacing(0, 0, 0, 2),\n  },\n  textInfo: {\n    padding: theme.spacing(2, 0, 2, 0),\n    color: \"#F15A22\",\n  },\n  topText: {\n    color: \"#F15A22\",\n  },\n  textTenant: {\n    padding: theme.spacing(1, 0, 2, 2),\n    fontWeight: \"medium\",\n  },\n  tenantInstructions: {\n    display: \"flex\",\n    padding: theme.spacing(2, 0, 2, 2),\n  },\n  tenantResponse: {\n    display: \"flex\",\n    width: \"100%\",\n  },\n  avatar: {},\n  button: {\n    width: \"50%\",\n    color: \"#F15A22\",\n    fontWeight: \"medium\",\n    backgroundColor: theme.palette.background.default,\n  },\n  buttonContainer: {\n    padding: theme.spacing(4, 0, 4, 0),\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  input: {\n    display: \"none\",\n  },\n  camera: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    //   alignItems: \"center\",\n  },\n  uploadText: {\n    padding: theme.spacing(0, 1, 0, 2),\n  },\n}));\n\nfunction TenantReportCard({ remarks, entry_id, requirement, timeframe }) {\n  const classes = useStyles();\n  const [comment, setComment] = useState(\"\");\n  //selected file state\n  const [selectedFile, setSelectedFile] = useState();\n  //state to check if file is selected\n  const [isFilePicked, setIsFilePicked] = useState(false);\n\n  const {\n    fbReportState,\n    setFbReportState,\n    getReportEntry,\n    submitReportUpdate,\n  } = useContext(Context);\n\n  //function to update comment state\n  const handleComment = (e) => {\n    setComment(e.target.value);\n    console.log(comment);\n  };\n  // handle input file change\n  const handleChange = (event) => {\n    console.log(event.target.files[0]);\n    setSelectedFile(event.target.files[0]);\n\n    setIsFilePicked(true);\n  };\n  // let input = document.getElementsByTagName(\"input\")[0];\n\n  // input.onclick = function () {\n  //   this.value = null;\n  // };\n\n  // input.onchange = (event) => {\n  //   setSelectedFile(event.target.files[0]);\n  //   console.log(event.target.files[0]);\n  //   setIsFilePicked(true);\n  // };\n\n  const getBase64 = () => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(selectedFile);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = (error) => reject(error);\n    });\n  };\n  //handle submit\n  const handleSubmit = () => {\n    async function getEntry() {\n      const entry = await getReportEntry(report_id, entry_id).then(\n        (response) => {\n          return response.data;\n        }\n      );\n      getBase64().then((image) => {\n        submitReportUpdate(report_id, false, \"\", {\n          ...entry,\n          image: image,\n          remarks: comment,\n        });\n      });\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Accordion>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-label=\"Expand\"\n          aria-controls=\"additional-actions1-content\"\n          id=\"additional-actions1-header\"\n        >\n          <ListItem>\n            <ListItemText id={entry_id} primary={requirement} />\n          </ListItem>\n        </AccordionSummary>\n        <AccordionDetails className={classes.dropdownMain}>\n          <div className={classes.dropdownContainer}>\n            <Typography\n              color=\"textSecondary\"\n              variant=\"button\"\n              className={classes.topText}\n            >\n              REMARKS: {remarks}\n            </Typography>\n\n            <Typography\n              color=\"textSecondary\"\n              variant=\"button\"\n              className={classes.textInfo}\n            >\n              RECTIFICATION PERIOD: {timeframe}\n            </Typography>\n          </div>\n          <div className={classes.tenantInstructions}>\n            <Avatar src=\"/broken-image.jpg\" className={classes.avatar} />\n            <Typography color=\"textPrimary\" className={classes.textTenant}>\n              Please respond to non-compliance below:\n            </Typography>\n          </div>\n          <div className={classes.tenantResponse}>\n            <TextField\n              id=\"standard-multiline-static\"\n              label=\"Comment on rectification to non-compliance\"\n              multiline\n              value={comment}\n              className={classes.comment}\n              onChange={(e) => {\n                handleComment(e);\n              }}\n            />\n            <input\n              // accept=\"image/*\"\n              className={classes.input}\n              // id={`icon-button-file${entry_id}`}\n              id=\"icon-button-file\"\n              name=\"file\"\n              type=\"file\"\n              // value={null}\n              // name=\"picture\"\n              onClick={(e) => {\n                e.target.value = \"\";\n              }}\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label\n              // htmlFor={`icon-button-file${entry_id}`}\n              htmlFor=\"icon-button-file\"\n              className={classes.camera}\n            >\n              <IconButton\n                color=\"primary\"\n                aria-label=\"upload picture\"\n                component=\"span\"\n              >\n                <Typography variant=\"button\" className={classes.uploadText}>\n                  Upload photo\n                </Typography>\n                <PhotoCamera />\n              </IconButton>\n            </label>\n          </div>\n          <div className={classes.buttonContainer}>\n            <Button\n              className={classes.button}\n              size=\"large\"\n              onClick={handleSubmit}\n              // color=\"secondary\"\n            >\n              submit\n            </Button>\n          </div>\n        </AccordionDetails>\n      </Accordion>\n    </form>\n  );\n}\n\nexport default TenantReportCard;\n"]},"metadata":{},"sourceType":"module"}